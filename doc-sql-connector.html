<!DOCTYPE html>
<html>
<head>
<title>documentation.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="documentation-du-module-sql-connector">Documentation du module <code>sql-connector</code></h1>
<p>Le module <code>sql-connector</code> permet de gérer les connexions à une base de données MySQL, de définir des schémas de tables, et d'interagir avec les données de manière simple et efficace.</p>
<h2 id="importation-du-module">Importation du module</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> { Schema, connect, logout, Model, client, sqlType } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'sql-connector'</span>);
</div></code></pre>
<h3 id="fonctions">Fonctions</h3>
<p><code>connect(config)</code> Établit une connexion à la base de données.</p>
<ul>
<li>
<p>Paramètres:</p>
<ul>
<li><code>config</code> (Object) : La configuration de la connexion à la base de données.</li>
<li><code>host</code> (string) : L'hôte de la base de données.</li>
<li><code>port</code> (number) : Le port de la base de données.</li>
<li><code>user</code> (string) : Le nom d'utilisateur pour la connexion.</li>
<li><code>password</code> (string) : Le mot de passe pour la connexion.</li>
<li><code>database</code> (string) : Le nom de la base de données.</li>
<li><code>ect</code> pour en savoir plus vous pouvez vous rendre sur https://github.com/mysqljs/mysql dans la section <code>Connection options</code></li>
</ul>
</li>
<li>
<h3 id="exemple">Exemple:</h3>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> config = {
  <span class="hljs-attr">host</span>: <span class="hljs-string">'localhost'</span>,
  <span class="hljs-attr">port</span>: <span class="hljs-number">3306</span>,
  <span class="hljs-attr">user</span>: <span class="hljs-string">'root'</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">'password'</span>,
  <span class="hljs-attr">database</span>: <span class="hljs-string">'mydatabase'</span>
};
<span class="hljs-keyword">await</span> connect(config);
</div></code></pre>
<p><code>logout()</code> Ferme la connexion à la base de données.</p>
<ul>
<li>
<h3 id="exemple">Exemple:</h3>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">await</span> logout();
</div></code></pre>
<h3 id="classes-schema">Classes <code>Schema</code></h3>
<p>Représente un schéma de base de données.</p>
<ul>
<li>
<p>Constructeur:</p>
<ul>
<li>Schema(schemaDict) : Crée une instance de Schema.
<ul>
<li>schemaDict (Object) : Un dictionnaire définissant le schéma.</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Exemple</p>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> transferSchema = <span class="hljs-keyword">new</span> Schema({
  <span class="hljs-attr">token</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-built_in">String</span>,
    <span class="hljs-attr">length</span>: <span class="hljs-number">50</span>
  },
  <span class="hljs-attr">mdp</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-built_in">String</span>,
    <span class="hljs-attr">length</span>: <span class="hljs-number">15</span>
  }
});
</div></code></pre>
<h2 id="class-model">Class Model</h2>
<p>Représente un modèle de base de données.</p>
<ul>
<li>
<h3 id="constructeur">Constructeur :</h3>
<ul>
<li><code>Model(name, schema)</code> : Crée une instance de <code>Model</code>.</li>
<li><code>name (string)</code> : Le nom de la table de base de données.</li>
<li><code>schema (Schema)</code> : Le schéma de la table de base de données.</li>
</ul>
</li>
<li>
<h3 id="m%C3%A9thodes">Méthodes :</h3>
<ul>
<li><code>generateCreateTableStatement(schema)</code> : Génère une requête SQL pour créer une table.</li>
<li><code>save(data)</code> : Sauvegarde des données dans la table.</li>
<li><code>findOne(filter, fields)</code> : Trouve une entrée unique dans la table.</li>
<li><code>find(filter, fields)</code> : Trouve des entrées dans la table.</li>
<li><code>customRequest(custom)</code> : Exécute une requête SQL personnalisée.</li>
<li><code>delete(filter)</code> : Supprime une entrée de la table.</li>
<li><code>dropTable()</code> : Supprime la table si elle existe.</li>
<li><code>generate_uuid()</code> : Génère un UUID unique pour le modèle.</li>
</ul>
</li>
<li>
<h3 id="exemple">Exemple</h3>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> userModel = <span class="hljs-keyword">new</span> Model(<span class="hljs-string">'users'</span>, transferSchema);

<span class="hljs-comment">// Sauvegarder des données</span>
<span class="hljs-keyword">await</span> userModel.save({ <span class="hljs-attr">token</span>: <span class="hljs-string">'abc123'</span>, <span class="hljs-attr">mdp</span>: <span class="hljs-string">'password'</span> });

<span class="hljs-comment">// Trouver une entrée</span>
<span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> userModel.findOne({ <span class="hljs-attr">token</span>: <span class="hljs-string">'abc123'</span> });

<span class="hljs-comment">// Supprimer une entrée</span>
<span class="hljs-keyword">await</span> userModel.delete({ <span class="hljs-attr">token</span>: <span class="hljs-string">'abc123'</span> });
</div></code></pre>
<h2 id="class-modelinstance">Class ModelInstance</h2>
<p>Représente une instance d'un modèle de base de données.</p>
<ul>
<li>
<h3 id="constructeur">Constructeur:</h3>
<ul>
<li><code>ModelInstance(name, data)</code> : Crée une instance de <code>ModelInstance</code>.</li>
<li><code>name (string)</code> : Le nom de la table de base de données.</li>
<li><code>data (Object)</code> : Les données de l'instance.</li>
</ul>
</li>
<li>
<h3 id="m%C3%A9thodes">Méthodes :</h3>
<ul>
<li><code>updateOne(model)</code> : Met à jour une entrée unique dans la table.</li>
<li><code>delete(model)</code> : Supprime une entrée unique dans la table.</li>
<li><code>customRequest(custom)</code> : Exécute une requête SQL personnalisée.</li>
</ul>
</li>
<li>
<h3 id="exemple">Exemple</h3>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> userInstance = <span class="hljs-keyword">new</span> ModelInstance(<span class="hljs-string">'users'</span>, { <span class="hljs-attr">token</span>: <span class="hljs-string">'abc123'</span>, <span class="hljs-attr">mdp</span>: <span class="hljs-string">'password'</span> });

<span class="hljs-comment">// Mettre à jour des données</span>
<span class="hljs-keyword">await</span> userInstance.updateOne({ <span class="hljs-attr">mdp</span>: <span class="hljs-string">'newpassword'</span> });

<span class="hljs-comment">// Supprimer des données</span>
<span class="hljs-keyword">await</span> userInstance.delete({ <span class="hljs-attr">token</span>: <span class="hljs-string">'abc123'</span> });
</div></code></pre>
<h1 id="types-sql">Types SQL</h1>
<p>Le module fournit également une map des types SQL courants via <code>sqlType</code>.</p>
<h2 id="type">Type</h2>
<ul>
<li>String</li>
<li>Number</li>
<li>Boolean</li>
<li>Object</li>
<li>Array</li>
<li>Now</li>
<li>Float</li>
<li>Text</li>
<li>DateTime</li>
<li>
<h3 id="exemple">Exemple</h3>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-built_in">console</span>.log(sqlType.String); <span class="hljs-comment">// "String"</span>
<span class="hljs-built_in">console</span>.log(sqlTypeMap.String); <span class="hljs-comment">// "VARCHAR"</span>
</div></code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>Le module <code>sql-connector</code> fournit une interface simple et efficace pour interagir avec une base de données MySQL, permettant de définir des schémas, de gérer des connexions, et de manipuler des données de manière intuitive.</p>

</body>
</html>
